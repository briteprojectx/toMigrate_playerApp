<ion-header>
    <ion-navbar class="mg2u-navbar">
        <!-- <img class="mg2u-logo" src="assets/img/myGolf2u.png" /> -->
        <img class="mg2u-logo" src="assets/img/mg2u-logo-top.svg" />
        <ion-buttons end>
            <button ion-button icon-only (click)="onRefreshClick($event)">
                <i class="fa fa-fw fa-lg fa-refresh"></i>
            </button>
        </ion-buttons>
    </ion-navbar>
    <ion-grid fixed *ngIf="innerWidth <= 768">
        <ion-toolbar>

            <ion-searchbar [(ngModel)]="searchQuery" debounce="1500" (ionInput)="onRefreshClick($event)" dark
            (keyup)="testKeyup($event)"
                (ionCancel)="onSearchCancel()" [showCancelButton]="true">
            </ion-searchbar>
            <!-- onSearchInput -->

        <ion-row *ngIf="innerWidth <= 768">
            <ion-col col-6 col-lg-5 col-xl-5 no-padding>
                <ion-item>
                    <ion-label style="max-width:10vw !important" item-left>From</ion-label>
                    <ion-datetime style="margin:0" item-right (ionChange)="confirmDate($event)" displayFormat="DD MMM YYYY"
                        pickerFormat="DD-MM-YYYY" [(ngModel)]="currentDate"></ion-datetime>
                </ion-item>
            </ion-col>
            <ion-col col-6 col-lg-5 col-xl-5 no-padding>
                <ion-item>
                    <ion-label style="max-width:10vw !important" item-left>To</ion-label>
                    <ion-datetime style="margin:0" item-right (ionChange)="confirmDate($event)" displayFormat="DD MMM YYYY"
                        pickerFormat="DD-MM-YYYY" [(ngModel)]="toDate"></ion-datetime>
                </ion-item>
            </ion-col>
            <!-- <ion-col col-12 no-padding (click)="changeFilterTime()">
                <ion-item>
                    <ion-label text-left item-start [innerHTML]="displayFilterTime()"></ion-label>
                </ion-item>
            </ion-col>
            <ion-col col-6 col-lg-2 col-xl-2 no-padding>
                <ion-item>
                    <ion-label>
                        <i class="fas fa-fw fa-cogs"></i>
                        <span *ngIf="innerWidth <= 768">Show more options</span>
                    </ion-label>
                    <ion-checkbox style="margin:1rem;" [(ngModel)]="showFilters"></ion-checkbox>
                </ion-item>
            </ion-col> -->
            <ion-col col-6 no-padding>
                <ion-item (click)="onFilterIncludeClick()">
                    <!-- Show {{filterInclude}} -->
                    Transactions: <b>{{getFilterIncludeName()}}</b>
                </ion-item>
            </ion-col>
            <ion-col col-6 no-padding>
                <ion-item (click)="onChangeGroupByClick()" text-right>
                    Group By <b>{{getGroupByName()}}</b>
                </ion-item>
            </ion-col>
            <!-- <ion-col col-6 col-lg-2 col-xl-2 no-padding>
                <ion-item>
                    <ion-label>
                        <i class="fas fa-fw fa-users"></i>
                        <span>Show details</span>
                    </ion-label>
                    <ion-checkbox style="margin:1rem;" [(ngModel)]="expandDetails"></ion-checkbox>
                </ion-item>
            </ion-col> -->
        </ion-row>
        <button ion-button full text-center (click)="onRefreshClick($event)">
            Search
        </button>
        
    <ion-list no-margin>
        <div *ngIf="showFilters">
            <ion-row>
                <ion-col>
                    <ion-item-header>
                        Booking Status
                    </ion-item-header>
                </ion-col>
            </ion-row>

            <ion-row>
                <ion-col col-6 *ngFor="let status of avlBookingStatus">
                    <ion-item>
                        <ion-label>
                            {{status.name}}
                        </ion-label>
                        <ion-checkbox [(ngModel)]="status.checked"
                            (ionChange)="updateFilterBookingFlightStatus(status)"></ion-checkbox>
                        <!-- [checked]="checkFilterBookingStatus(status)" -->
                    </ion-item>
                </ion-col>
            </ion-row>
            <!-- <ion-item>
                <ion-label>Displaying max results of : </ion-label>
                <ion-input [min]="1" [max]="300" (ionChange)="onKeyMaxResults()" debounce="1000" maxlength="3" text-right type="tel" [(ngModel)]="searchMaxResults"></ion-input>
            </ion-item> -->
            <ion-row *ngIf="showRefundBy">
                <ion-col>
                    <ion-item-header>
                        View refunded by method
                    </ion-item-header>
                </ion-col>
            </ion-row>
            <ion-row *ngIf="showRefundBy">
                <ng-container *ngFor="let refMethod of refundMethodList">
                <ion-col col-6 *ngIf="refMethod.visible">
                    <ion-item>
                        <ion-label>
                            {{refMethod.name}}
                        </ion-label>
                        <ion-checkbox [disabled]="!refMethod.enabled" [(ngModel)]="refMethod.checked"
                        (ionChange)="updateFilterRefundMethod(refMethod)"></ion-checkbox>
                            
                        <!-- [checked]="checkFilterBookingStatus(status)" -->
                    </ion-item>
                </ion-col>
            </ng-container>
            </ion-row>
        </div>
        <!-- <ion-row>
            <ion-col col-12>
                <button block ion-button icon-right small outline (click)="onSelectCourse($event)"
                    class="starter-btn-courses">
                    <span
                        *ngIf="teeFlightTabs === 'checkedInTab'">{{optionCourse?optionCourse.courseName:'All Courses'}}</span>
                    <span
                        *ngIf="teeFlightTabs === 'bookedTab'">{{optionCourse?optionCourse.courseName:'All Courses'}}</span>
                    <span
                        *ngIf="teeFlightTabs === 'allTab'">{{optionCourse?optionCourse.courseName:'All Courses'}}</span>
                    <ion-icon primary name="arrow-down"></ion-icon>
                </button>
            </ion-col>
        </ion-row> -->
    </ion-list>
        </ion-toolbar>
    </ion-grid>
</ion-header>


<ion-content class="mygolf-page-background">
    <ion-grid fixed *ngIf="innerWidth <= 768">
        
        <!-- <ion-item text-wrap text-center *ngIf="upcomingList.length > 0">Displaying {{upcomingList.length}} flights for {{displayFilterBookingStatus()}}</ion-item> -->
        <button ion-button clear small full text-wrap text-center *ngIf="upcomingList && upcomingList.length > 0">
            Total flights found&nbsp;<b>{{getFlightStats('flights')}}</b>
        </button>
        <button ion-button clear small full text-wrap text-center *ngIf="upcomingList && upcomingList.length > 0">Displaying
            {{upcomingList.length}} 
            flights for {{displayFilterBookingStatus()}}</button>


        <ion-grid style="padding:0;" *ngIf="viewStats">
            <ion-row justify-content-around>
                <ion-col col-3 style="color:#1b6a34;text-align:center">Flights <br><span class="tee-top-items">
                        {{getFlightStats('flights')}}</span></ion-col>
                <ion-col col-3 style="color:#1b6a34;text-align:center">Players<br> <span
                        class="tee-top-items">{{getFlightStats('players')}}</span></ion-col>
                <ion-col col-3 style="color:#1b6a34;text-align:center">Buggies <br><span
                        class="tee-top-items">{{getFlightStats('buggies')}}</span></ion-col>
                <ion-col col-3 style="color:#1b6a34;text-align:center">Caddies <br><span
                        class="tee-top-items">{{getFlightStats('caddies')}}</span></ion-col>

            </ion-row>
        </ion-grid>



        <ion-list *ngIf="refresher">
            <ion-item style="text-align:center">
                <i class="fas fa-sync fa-spin"></i>
            </ion-item>
        </ion-list>

        <ion-row style="font-weight: bold; justify-content: space-between; flex-wrap: nowrap;
        background-color: #30bb5b;
        color: white;">
            <ion-col *ngIf="groupByName !== 'transactionDate' && groupByName !== 'none'" col-4 no-padding>Tranx. Date</ion-col>
            <ion-col *ngIf="groupByName !== 'player' && groupByName !== 'none'" col-3 no-padding>Player</ion-col>
            <ion-col *ngIf="groupByName === 'none'" no-padding>Transaction Details</ion-col>
            <!-- <ion-col *ngIf="groupByName === 'none'" no-padding>&nbsp;</ion-col> -->
            <ion-col *ngIf="groupByName !== 'reference' && groupByName !== 'none'" col-4 no-padding>Ref. #</ion-col>
            <ion-col *ngIf="groupByName !== 'type' && groupByName !== 'player' && groupByName !== 'none'" col-2 no-padding>Mode</ion-col>
            <ion-col col-2 no-padding text-right>Amount {{clubInfo?'('+clubInfo.country.currencySymbol+')': '-'}}
                <!-- {{preferredCountry?"("+preferredCountry.currencySymbol+")":""}} -->
            </ion-col>
            <ion-col col-1 no-padding>&nbsp;</ion-col>
        </ion-row>
        <ng-container *ngIf="(clubCreditHistory && clubCreditHistory.length === 0)">
            There is no record for {{filterInclude}} credits history during this period.
        </ng-container>
        <ng-container *ngIf="(groupByName !== 'none') && clubCreditHistory && clubCreditHistory.length > 0">
            <div *ngFor="let cgroup of creditHistoryGroup(groupByName)">
                <ion-item (click)="expandHistoryGroups(cgroup)" style="font-weight: bold;">
                    <i (click)="expandHistoryGroups(cgroup)" *ngIf="!cgroup.expandMode" class="fas fa-caret-right"></i>
                        <i (click)="expandHistoryGroups(cgroup)" *ngIf="cgroup.expandMode" class="fas fa-caret-down"></i>
                <span *ngIf="groupByName === 'transactionDate'">{{getDate(cgroup.transactionDate)}}</span>
                <span *ngIf="groupByName === 'reference'">{{cgroup.reference}}</span>
                <span *ngIf="groupByName === 'type'">{{cgroup.type}}</span>
                <span *ngIf="groupByName === 'player'">{{cgroup.playerName}} (#{{cgroup.playerId}})</span>
             </ion-item>
             
                
                <!-- <ion-item (click)="expandHistoryGroups(cgroup)" style="font-weight: bold;" *ngIf="groupByName === 'transactionDate'">{{getDate(cgroup.transactionDate)}}</ion-item>
                <ion-item (click)="expandHistoryGroups(cgroup)" style="font-weight: bold;" *ngIf="groupByName === 'reference'">{{cgroup.reference}}</ion-item>
                <ion-item (click)="expandHistoryGroups(cgroup)" style="font-weight: bold;" *ngIf="groupByName === 'type'">{{cgroup.type}}</ion-item>
                <ion-item (click)="expandHistoryGroups(cgroup)" style="font-weight: bold;" *ngIf="groupByName === 'player'">{{cgroup.playerName}} (#{{cgroup.playerId}})</ion-item> -->
                <ng-container *ngIf="cgroup.expandMode" >
                <ion-row style="justify-content: space-between; flex-wrap: nowrap;  align-items: center;" 
                *ngFor="let credit of creditHistoryFiltered(cgroup, groupByName)" [class]="getAmountClass(credit)">
                    <ion-col *ngIf="groupByName !== 'transactionDate' && groupByName !== 'player'" col-4 no-padding>{{getDate(credit.transactionDate)}}</ion-col>
                    <ion-col *ngIf="groupByName !== 'player'" col-3 no-padding>{{credit.playerName}} (#{{credit.playerId}})</ion-col>
                    <ion-col *ngIf="groupByName !== 'reference' && groupByName !== 'player'" col-4 no-padding>{{credit.reference}}</ion-col>
                    <ion-col *ngIf="groupByName === 'player'" no-padding>
                        <ion-row style="flex-wrap: nowrap; align-items: center; max-width: 3em" >
                            <ion-col no-padding>
                                <span *ngIf="credit.type === 'Refund'">
                                    <!-- <span class="fa-stack">
                                        <i class="fas fa-stack-2x fa-undo"></i>
                                        <i class="fas fa-stack-1x fa-dollar-sign"></i>
                                    </span> -->
                                    <svg class="history-image refund-amount" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.667 14c1.781 0 3.333-.671 3.333-1.5s-1.552-1.5-3.333-1.5c-1.781 0-3.333.671-3.333 1.5s1.551 1.5 3.333 1.5zm.062-1.34c-.199-.06-.81-.111-.81-.45 0-.189.223-.358.639-.396v-.148h.214v.141c.156.004.33.021.523.06l-.078.229c-.147-.034-.311-.066-.472-.066l-.048.001c-.321.013-.347.191-.125.267.364.112.844.195.844.493 0 .238-.289.366-.645.397v.146h-.214v-.139c-.22-.002-.451-.038-.642-.102l.098-.229c.163.042.367.084.552.084l.139-.01c.247-.034.296-.199.025-.278zm-.062 5.34c1.261 0 2.57-.323 3.333-.934v.434c0 .829-1.552 1.5-3.333 1.5-1.781 0-3.333-.671-3.333-1.5v-.434c.763.611 2.071.934 3.333.934zm0-3.333c1.261 0 2.57-.323 3.333-.934v.434c0 .829-1.552 1.5-3.333 1.5-1.781 0-3.333-.671-3.333-1.5v-.434c.763.611 2.071.934 3.333.934zm0 1.666c1.261 0 2.57-.323 3.333-.935v.435c0 .828-1.552 1.5-3.333 1.5-1.781 0-3.333-.672-3.333-1.5v-.435c.763.612 2.071.935 3.333.935zm-12.167-3.833c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5-2.5 1.12-2.5 2.5zm3.236-1.14l-.09.411c-.192-.067-.405-.128-.611-.116-.372.022-.405.344-.145.479.428.201.985.35.985.886.001.429-.334.659-.749.716v.264h-.251v-.25c-.259-.004-.526-.066-.749-.181l.113-.411c.239.092.558.191.807.135.287-.065.346-.36.028-.503-.233-.108-.944-.201-.944-.811 0-.341.261-.646.746-.713v-.266h.251v.254c.179.005.382.037.609.106zm6.264-5.36h-17v10h-1v-11h18v1zm2 1v2.834c-.715.059-1.401.214-2 .458v-1.292h-14v7h12v2h-14v-11h18z"/></svg>                           
                                </span>
                                <span *ngIf="credit.type === 'Redeem'">
                                    <!-- <img item-left style="max-height:1.5em;width:webkit-fill-available"
                                    src="assets/img/booking-item-payment.svg" /> -->
                                    <!-- <span class="fa-stack">
                                        <i class="fas fa-stack-2x fa-dollar-sign"></i>
                                    </span> -->
                                    <svg class="history-image redeem-amount" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M8.502 5c-.257-1.675.04-3.562 1.229-5h7.259c-.522.736-1.768 2.175-1.391 5h-1.154c-.147-1.336.066-2.853.562-4h-4.725c-.666 1.003-.891 2.785-.657 4h-1.123zm10.498-1v20h-14v-20h2.374v.675c0 .732.583 1.325 1.302 1.325h6.647c.721 0 1.304-.593 1.304-1.325v-.675h2.373zm-9 17h-2v1h2v-1zm0-2h-2v1h2v-1zm0-2h-2v1h2v-1zm3 4h-2v1h2v-1zm0-2h-2v1h2v-1zm0-2h-2v1h2v-1zm3 4h-2v1h2v-1zm0-2h-2v1h2v-1zm0-2h-2v1h2v-1zm-6-2h-2v1h2v-1zm3 0h-2v1h2v-1zm3 0h-2v1h2v-1zm1-7h-10v5h10v-5z"/></svg>
                                </span>
                            </ion-col>
                            <ion-col no-padding>
                                <h6 *ngIf="credit.type === 'Refund'" style="color:gray; font-weight: bold; white-space: nowrap;">Refund by {{credit.refundedBy.name}}</h6>
                                <h6 *ngIf="credit.type === 'Redeem'" style="color:gray; font-weight: bold; white-space: nowrap;">Booking Payment</h6>
                                <h6 style="color:dimgray; margin:0; white-space: nowrap;">
                                    {{getDate(credit.transactionDate)}}&nbsp;#{{credit.reference}}
                                </h6>
                            </ion-col>
                        </ion-row>
                    </ion-col>
                    <ion-col *ngIf="groupByName !== 'type' && groupByName !== 'player'" col-2 no-padding>{{credit.type === 'Refund'?'Refund'+' ('+credit.refundMode+')':'Redeemed'}}</ion-col>
                    <ion-col col-2 no-padding text-right>{{getCreditAmount(credit)}}</ion-col>
                    <ion-col col-1 no-padding><button (click)="onMoreActions(credit)" ion-button clear small><i class="fas fa-ellipsis-v"></i></button></ion-col>
                    <!-- <ion-item *ngIf="credit.expandMode && credit.type === 'Refund'">
                        Reason : {{credit.reason}}
                    </ion-item>
                    <ion-item *ngIf="credit.expandMode && credit.type === 'Refund'">
                        Refunded By : {{credit.refundedBy && credit.refundedBy.name}}
                    </ion-item> -->
                </ion-row>
                 </ng-container>
            </div>
        </ng-container>
        <ng-container *ngIf="(groupByName === 'none') && clubCreditHistory && clubCreditHistory.length > 0">
            <ion-row  style="justify-content: space-between; align-items: center;" *ngFor="let credit of clubCreditHistory" [class]="getAmountClass(credit)">
                <!-- (click)="expandDetails(credit)"  -->
                <ion-col no-padding>
                    <ion-row no-padding style="flex-wrap: nowrap; align-items: center; max-width: 3em" >
                        <ion-col no-padding>
                            <span *ngIf="credit.type === 'Refund'">
                                <svg class="history-image refund-amount" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.667 14c1.781 0 3.333-.671 3.333-1.5s-1.552-1.5-3.333-1.5c-1.781 0-3.333.671-3.333 1.5s1.551 1.5 3.333 1.5zm.062-1.34c-.199-.06-.81-.111-.81-.45 0-.189.223-.358.639-.396v-.148h.214v.141c.156.004.33.021.523.06l-.078.229c-.147-.034-.311-.066-.472-.066l-.048.001c-.321.013-.347.191-.125.267.364.112.844.195.844.493 0 .238-.289.366-.645.397v.146h-.214v-.139c-.22-.002-.451-.038-.642-.102l.098-.229c.163.042.367.084.552.084l.139-.01c.247-.034.296-.199.025-.278zm-.062 5.34c1.261 0 2.57-.323 3.333-.934v.434c0 .829-1.552 1.5-3.333 1.5-1.781 0-3.333-.671-3.333-1.5v-.434c.763.611 2.071.934 3.333.934zm0-3.333c1.261 0 2.57-.323 3.333-.934v.434c0 .829-1.552 1.5-3.333 1.5-1.781 0-3.333-.671-3.333-1.5v-.434c.763.611 2.071.934 3.333.934zm0 1.666c1.261 0 2.57-.323 3.333-.935v.435c0 .828-1.552 1.5-3.333 1.5-1.781 0-3.333-.672-3.333-1.5v-.435c.763.612 2.071.935 3.333.935zm-12.167-3.833c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5-2.5 1.12-2.5 2.5zm3.236-1.14l-.09.411c-.192-.067-.405-.128-.611-.116-.372.022-.405.344-.145.479.428.201.985.35.985.886.001.429-.334.659-.749.716v.264h-.251v-.25c-.259-.004-.526-.066-.749-.181l.113-.411c.239.092.558.191.807.135.287-.065.346-.36.028-.503-.233-.108-.944-.201-.944-.811 0-.341.261-.646.746-.713v-.266h.251v.254c.179.005.382.037.609.106zm6.264-5.36h-17v10h-1v-11h18v1zm2 1v2.834c-.715.059-1.401.214-2 .458v-1.292h-14v7h12v2h-14v-11h18z"/></svg>
                            </span>
                            <span *ngIf="credit.type === 'Redeem'">
                                <svg class="history-image redeem-amount" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M8.502 5c-.257-1.675.04-3.562 1.229-5h7.259c-.522.736-1.768 2.175-1.391 5h-1.154c-.147-1.336.066-2.853.562-4h-4.725c-.666 1.003-.891 2.785-.657 4h-1.123zm10.498-1v20h-14v-20h2.374v.675c0 .732.583 1.325 1.302 1.325h6.647c.721 0 1.304-.593 1.304-1.325v-.675h2.373zm-9 17h-2v1h2v-1zm0-2h-2v1h2v-1zm0-2h-2v1h2v-1zm3 4h-2v1h2v-1zm0-2h-2v1h2v-1zm0-2h-2v1h2v-1zm3 4h-2v1h2v-1zm0-2h-2v1h2v-1zm0-2h-2v1h2v-1zm-6-2h-2v1h2v-1zm3 0h-2v1h2v-1zm3 0h-2v1h2v-1zm1-7h-10v5h10v-5z"/></svg>                                
                                </span>
                            </ion-col>
                        <ion-col no-padding>
                            <h6 *ngIf="credit.type === 'Refund'" style="color:gray; font-weight: bold; white-space: nowrap;">Booking Refund {{credit.refundMode?'('+credit.refundMode+')':''}}
                                <!-- (Refund by {{credit.refundedBy.name}}) -->
                            </h6>
                            <h6 *ngIf="credit.type === 'Redeem'" style="color:gray; font-weight: bold; white-space: nowrap;">Booking Payment (Redeemed)</h6>
                            <h6 style="color:dimgray; margin:0; white-space: nowrap;">
                                {{getDate(credit.transactionDate)}}&nbsp;#{{credit.reference}}
                            </h6>
                            <ng-container *ngIf="credit.type === 'Refund'">
                                <h6 style="color:dimgray; margin:0; white-space: nowrap;margin:0">Refunded to  {{credit.playerName}} (#{{credit.playerId}})</h6>
                                <h6 style="color:dimgray; margin:0; white-space: nowrap;margin:0">Refunded by {{credit.refundedBy.name}}</h6>
                            </ng-container>
                            <ng-container *ngIf="credit.type === 'Redeem'">
                                <h6 style="color:dimgray; margin:0; white-space: nowrap;margin:0">Redeemed by {{credit.playerName}} (#{{credit.playerId}})</h6>
                            </ng-container>
                        </ion-col>
                    </ion-row>
                </ion-col>
                <ion-col style="font-weight: bold; font-size: 1.5em" col-3 no-padding text-right>{{getCreditAmount(credit)}}</ion-col>
                <ion-col col-1 no-padding><button (click)="onMoreActions(credit)" ion-button clear small><i class="fas fa-ellipsis-v"></i></button></ion-col>
                <!-- <ion-item *ngIf="credit.expandMode && credit.type === 'Refund'" style="font-style: italic">
                    Refunded By : {{credit.refundedBy && credit.refundedBy.name}}<br>
                    <span *ngIf="credit && credit.reason">Reason : {{credit.reason}}</span>
                </ion-item> -->
                </ion-row>
            </ng-container>


        <!-- </div> -->
    </ion-grid>
    <ion-row col-12 *ngIf="innerWidth > 768">
        <ion-col>
            <ion-toolbar color="light">

                <ion-searchbar [(ngModel)]="searchQuery" debounce="1500" (ionInput)="onRefreshClick($event)" dark
                (keyup)="testKeyup($event)"
                    (ionCancel)="onSearchCancel()" [showCancelButton]="true">
                </ion-searchbar>
            </ion-toolbar>

            <ion-row *ngIf="innerWidth > 768">
                <ion-col col-12 no-padding>
                    <ion-item>
                        <ion-label text-left style="max-width:10vw !important" item-start>From</ion-label>
                        <ion-datetime text-right style="margin:0" item-end (ionChange)="confirmDate($event)"
                            displayFormat="DD MMM YYYY" pickerFormat="DD-MM-YYYY" [(ngModel)]="currentDate">
                        </ion-datetime>
                    </ion-item>
                </ion-col>
                <ion-col col-12 no-padding>
                    <ion-item>
                        <ion-label text-left style="max-width:10vw !important" item-start>To</ion-label>
                        <ion-datetime text-right style="margin:0" item-end (ionChange)="confirmDate($event)"
                            displayFormat="DD MMM YYYY" pickerFormat="DD-MM-YYYY" [(ngModel)]="toDate"></ion-datetime>
                    </ion-item>
                </ion-col>
                <!-- <ion-col col-12 no-padding (click)="changeFilterTime()">
                    <ion-item>
                        <ion-label text-left item-start [innerHTML]="displayFilterTime()"></ion-label>
                    </ion-item>
                </ion-col> -->
                <!-- <ion-col col-12 no-padding>
                    <ion-item>
                        <ion-label text-left style="max-width:10vw !important" item-start>To</ion-label>
                        <ion-datetime text-right style="margin:0" item-end (ionChange)="confirmDate($event)"
                            displayFormat="DD MMM YYYY" pickerFormat="DD-MM-YYYY" [(ngModel)]="toDate"></ion-datetime>
                    </ion-item>
                </ion-col> -->
                <!-- <ion-col col-6 no-padding>
                    <ion-item>
                        <ion-label>
                            <i class="fas fa-fw fa-cogs"></i>
                            <span>Show more options</span>
                        </ion-label>
                        <ion-checkbox style="margin:1rem;" [(ngModel)]="showFilters"></ion-checkbox>
                    </ion-item>
                </ion-col> -->
                
            <ion-col col-6 no-padding>
                <ion-item (click)="onFilterIncludeClick()">
                    Show <b>{{filterInclude}}</b>
                </ion-item>
            </ion-col>
            <ion-col col-6 no-padding>
                <ion-item (click)="onChangeGroupByClick()">
                    Group By <b>{{getGroupByName()}}</b>
                </ion-item>
            </ion-col>
                <!-- <ion-col col-6 no-padding>
                    <ion-item>
                        <ion-label>
                            <i class="fas fa-fw fa-users"></i>
                            <span>Show details</span>
                        </ion-label>
                        <ion-checkbox style="margin:1rem;" [(ngModel)]="expandDetails"></ion-checkbox>
                    </ion-item>
                </ion-col> -->
            </ion-row>
            <ion-list>
            <div *ngIf="showFilters">
                <ion-row>
                    <ion-col>
                        <ion-item-header>
                            Booking Status
                        </ion-item-header>
                    </ion-col>
                </ion-row>

                <ion-row>
                    <ion-col col-6 *ngFor="let status of avlBookingStatus">
                        <ion-item>
                            <ion-label>
                                {{status.name}}
                            </ion-label>
                            <ion-checkbox [(ngModel)]="status.checked"
                                (ionChange)="updateFilterBookingFlightStatus(status)"></ion-checkbox>
                            <!-- [checked]="checkFilterBookingStatus(status)" -->
                        </ion-item>
                    </ion-col>
                </ion-row>
                <!-- <ion-item> 
                    <ion-label>Displaying max results of : </ion-label>
                    <ion-input [min]="1" [max]="300"  maxlength="3" text-right type="tel" [(ngModel)]="searchMaxResults"></ion-input>
                </ion-item> -->
            </div>
            
            <button ion-button full text-center (click)="onRefreshClick($event)">
                Search
            </button>
            <!-- <ion-row>
                <ion-col col-12>
                    <button block ion-button icon-right small outline (click)="onSelectCourse($event)"
                        class="starter-btn-courses">
                        <span
                            *ngIf="teeFlightTabs === 'checkedInTab'">{{optionCourse?optionCourse.courseName:'All Courses'}}</span>
                        <span
                            *ngIf="teeFlightTabs === 'bookedTab'">{{optionCourse?optionCourse.courseName:'All Courses'}}</span>
                        <span
                            *ngIf="teeFlightTabs === 'allTab'">{{optionCourse?optionCourse.courseName:'All Courses'}}</span>
                        <ion-icon primary name="arrow-down"></ion-icon>
                    </button>
                </ion-col>
            </ion-row> -->
            </ion-list>
            <!-- <ion-item text-wrap text-center *ngIf="upcomingList.length > 0">Displaying {{upcomingList.length}} flights for {{displayFilterBookingStatus()}}</ion-item> -->
            <ion-item text-wrap text-center *ngIf="upcomingList && upcomingList.length > 0">
                Total flights found&nbsp;<b>{{getFlightStats('flights')}}</b>
            </ion-item>
            <ion-item text-wrap text-center *ngIf="upcomingList && upcomingList.length > 0">Displaying
                {{upcomingList.length}} 
                flights for {{displayFilterBookingStatus()}}</ion-item>


            <ion-grid style="padding:0;" *ngIf="viewStats">
                <ion-row justify-content-around>
                    <ion-col col-3 style="color:#1b6a34;text-align:center">Flights <br><span class="tee-top-items">
                            {{getFlightStats('flights')}}</span></ion-col>
                    <ion-col col-3 style="color:#1b6a34;text-align:center">Players<br> <span
                            class="tee-top-items">{{getFlightStats('players')}}</span></ion-col>
                    <ion-col col-3 style="color:#1b6a34;text-align:center">Buggies <br><span
                            class="tee-top-items">{{getFlightStats('buggies')}}</span></ion-col>
                    <ion-col col-3 style="color:#1b6a34;text-align:center">Caddies <br><span
                            class="tee-top-items">{{getFlightStats('caddies')}}</span></ion-col>

                </ion-row>
            </ion-grid>
            
        </ion-col>
        <ion-col col-9>
            
            <ion-list *ngIf="!refresher && (getFlightList() && getFlightList().length === 0 || !upcomingList) && innerWidth <= 768">
                <ion-item  text-wrap text-center>No flights found</ion-item>
            </ion-list>
            
            <ion-row *ngIf="innerWidth > 768" style="font-weight: bold; justify-content: space-between; flex-wrap: nowrap;
                background-color: #30bb5b;
                color: white;">
                <ion-col *ngIf="groupByName !== 'transactionDate' && groupByName !== 'none'" col-3 no-padding>Tranx. Date</ion-col>
                <ion-col *ngIf="groupByName !== 'player' && groupByName !== 'none'" col-3 no-padding>Player</ion-col>
                <ion-col *ngIf="groupByName !== 'reference' && groupByName !== 'none'" col-4 no-padding>Ref. #</ion-col>
                <ion-col *ngIf="groupByName === 'none'" no-padding>Transaction Details</ion-col>
                <ion-col *ngIf="groupByName === 'none'" no-padding>&nbsp;</ion-col>
                <ion-col *ngIf="groupByName !== 'type' && groupByName !== 'none'" col-2 no-padding>Mode</ion-col>
                <ion-col col-2 no-padding text-right>Amount {{clubInfo?'('+clubInfo.country.currencySymbol+')': '-'}}
                    <!-- {{preferredCountry?"("+preferredCountry.currencySymbol+")":""}} -->
                </ion-col>
                <ion-col col-1 no-padding>&nbsp;</ion-col>
            </ion-row>
            
        <ng-container *ngIf="(clubCreditHistory && clubCreditHistory.length === 0)">
            There is no record for {{filterInclude}} credits history during this period.
        </ng-container>
            <ng-container *ngIf="(groupByName !== 'none') && clubCreditHistory && clubCreditHistory.length > 0 && innerWidth > 768">
                <div *ngFor="let cgroup of creditHistoryGroup(groupByName)">
                    <ion-item (click)="expandHistoryGroups(cgroup)" style="font-weight: bold;">
                        <i (click)="expandHistoryGroups(cgroup)" *ngIf="!cgroup.expandMode" class="fas fa-caret-right"></i>
                            <i (click)="expandHistoryGroups(cgroup)" *ngIf="cgroup.expandMode" class="fas fa-caret-down"></i>
                    <span *ngIf="groupByName === 'transactionDate'">{{getDate(cgroup.transactionDate)}}</span>
                    <span *ngIf="groupByName === 'reference'">{{cgroup.reference}}</span>
                    <span *ngIf="groupByName === 'type'">{{cgroup.type}}</span>
                    <span *ngIf="groupByName === 'player'">{{cgroup.playerName}} (#{{cgroup.playerId}})</span>
                 </ion-item>
                    <!-- <i (click)="expandHistoryGroups(cgroup)" *ngIf="!cgroup.expandMode" class="fas fa-caret-right"></i>
                    <i (click)="expandHistoryGroups(cgroup)" *ngIf="cgroup.expandMode" class="fas fa-caret-down"></i>
                    <ion-item (click)="expandHistoryGroups(cgroup)" style="font-weight: bold;" *ngIf="groupByName === 'transactionDate'">{{getDate(cgroup.transactionDate)}}</ion-item>
                    <ion-item (click)="expandHistoryGroups(cgroup)" style="font-weight: bold;" *ngIf="groupByName === 'reference'">{{cgroup.reference}}</ion-item>
                    <ion-item (click)="expandHistoryGroups(cgroup)" style="font-weight: bold;" *ngIf="groupByName === 'type'">{{cgroup.type}}</ion-item>
                    <ion-item (click)="expandHistoryGroups(cgroup)" style="font-weight: bold;" *ngIf="groupByName === 'player'">{{cgroup.playerName}} (#{{cgroup.playerId}})</ion-item> -->
                    <ng-container *ngIf="cgroup.expandMode">
                    <ion-row style="justify-content: space-between; flex-wrap: nowrap; align-items: center;" 
                    *ngFor="let credit of creditHistoryFiltered(cgroup, groupByName)" [class]="getAmountClass(credit)">
                        <ion-col *ngIf="groupByName !== 'transactionDate'" col-3 no-padding>{{getDate(credit.transactionDate)}}</ion-col>
                        <ion-col *ngIf="groupByName !== 'player'" col-3 no-padding>{{credit.playerName}} (#{{credit.playerId}})</ion-col>
                        <ion-col *ngIf="groupByName !== 'reference'" col-4 no-padding>{{credit.reference}}</ion-col>
                        <ion-col *ngIf="groupByName !== 'type'" col-2 no-padding>{{credit.type === 'Refund'?'Refund'+' ('+credit.refundMode+')':'Redeem'}}</ion-col>
                        <ion-col col-2 no-padding text-right>{{getCreditAmount(credit)}}</ion-col>
                        <ion-col col-1 no-padding><button (click)="onMoreActions(credit)" ion-button clear small><i class="fas fa-ellipsis-v"></i></button></ion-col>
                        <!-- <ion-item *ngIf="credit.expandMode && credit.type === 'Refund'">
                            Reason : {{credit.reason}}
                        </ion-item>
                        <ion-item *ngIf="credit.expandMode && credit.type === 'Refund'">
                            Refunded By : {{credit.refundedBy && credit.refundedBy.name}}
                        </ion-item> -->
                    </ion-row>
                </ng-container>
                </div>
            </ng-container>
            
    <ng-container *ngIf="(groupByName === 'none') && clubCreditHistory && clubCreditHistory.length > 0">
        <ion-row  style="justify-content: space-between; align-items: center;" *ngFor="let credit of clubCreditHistory" [class]="getAmountClass(credit)">
            <!-- (click)="expandDetails(credit)"  -->
            <ion-col no-padding>
                <ion-row style="flex-wrap: nowrap; align-items: center; max-width: 3em" >
                    <ion-col no-padding>
                        <span *ngIf="credit.type === 'Refund'">
                            <svg class="history-image refund-amount" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.667 14c1.781 0 3.333-.671 3.333-1.5s-1.552-1.5-3.333-1.5c-1.781 0-3.333.671-3.333 1.5s1.551 1.5 3.333 1.5zm.062-1.34c-.199-.06-.81-.111-.81-.45 0-.189.223-.358.639-.396v-.148h.214v.141c.156.004.33.021.523.06l-.078.229c-.147-.034-.311-.066-.472-.066l-.048.001c-.321.013-.347.191-.125.267.364.112.844.195.844.493 0 .238-.289.366-.645.397v.146h-.214v-.139c-.22-.002-.451-.038-.642-.102l.098-.229c.163.042.367.084.552.084l.139-.01c.247-.034.296-.199.025-.278zm-.062 5.34c1.261 0 2.57-.323 3.333-.934v.434c0 .829-1.552 1.5-3.333 1.5-1.781 0-3.333-.671-3.333-1.5v-.434c.763.611 2.071.934 3.333.934zm0-3.333c1.261 0 2.57-.323 3.333-.934v.434c0 .829-1.552 1.5-3.333 1.5-1.781 0-3.333-.671-3.333-1.5v-.434c.763.611 2.071.934 3.333.934zm0 1.666c1.261 0 2.57-.323 3.333-.935v.435c0 .828-1.552 1.5-3.333 1.5-1.781 0-3.333-.672-3.333-1.5v-.435c.763.612 2.071.935 3.333.935zm-12.167-3.833c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5-2.5 1.12-2.5 2.5zm3.236-1.14l-.09.411c-.192-.067-.405-.128-.611-.116-.372.022-.405.344-.145.479.428.201.985.35.985.886.001.429-.334.659-.749.716v.264h-.251v-.25c-.259-.004-.526-.066-.749-.181l.113-.411c.239.092.558.191.807.135.287-.065.346-.36.028-.503-.233-.108-.944-.201-.944-.811 0-.341.261-.646.746-.713v-.266h.251v.254c.179.005.382.037.609.106zm6.264-5.36h-17v10h-1v-11h18v1zm2 1v2.834c-.715.059-1.401.214-2 .458v-1.292h-14v7h12v2h-14v-11h18z"/></svg>
                        </span>
                        <span *ngIf="credit.type === 'Redeem'">
                            <svg class="history-image redeem-amount" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M8.502 5c-.257-1.675.04-3.562 1.229-5h7.259c-.522.736-1.768 2.175-1.391 5h-1.154c-.147-1.336.066-2.853.562-4h-4.725c-.666 1.003-.891 2.785-.657 4h-1.123zm10.498-1v20h-14v-20h2.374v.675c0 .732.583 1.325 1.302 1.325h6.647c.721 0 1.304-.593 1.304-1.325v-.675h2.373zm-9 17h-2v1h2v-1zm0-2h-2v1h2v-1zm0-2h-2v1h2v-1zm3 4h-2v1h2v-1zm0-2h-2v1h2v-1zm0-2h-2v1h2v-1zm3 4h-2v1h2v-1zm0-2h-2v1h2v-1zm0-2h-2v1h2v-1zm-6-2h-2v1h2v-1zm3 0h-2v1h2v-1zm3 0h-2v1h2v-1zm1-7h-10v5h10v-5z"/></svg>                                
                            </span>
                        </ion-col>
                    <ion-col no-padding>
                        <h6 *ngIf="credit.type === 'Refund'" style="color:gray; font-weight: bold; white-space: nowrap;">Booking Refund {{credit.refundMode?'('+credit.refundMode+')':''}}
                            <!-- (Refund by {{credit.refundedBy.name}}) -->
                        </h6>
                        <h6 *ngIf="credit.type === 'Redeem'" style="color:gray; font-weight: bold; white-space: nowrap;">Booking Payment (Redeemed)</h6>
                        <h6 style="color:dimgray; margin:0; white-space: nowrap;">
                            {{getDate(credit.transactionDate)}}&nbsp;#{{credit.reference}}
                        </h6>
                    </ion-col>
                </ion-row>
            </ion-col>
            <ion-col no-padding>
                <span *ngIf="credit.type === 'Refund'">
                    <h6>Refunded to  {{credit.playerName}} (#{{credit.playerId}})</h6>
                    <!-- <br> -->
                    <h6>Refunded by {{credit.refundedBy.name}}</h6>
                </span>
                <span *ngIf="credit.type === 'Redeem'">
                    <h6>Redeemed by {{credit.playerName}} (#{{credit.playerId}})</h6>
                </span>
            </ion-col>
            <ion-col style="font-weight: bold; font-size: 1.5em" col-3 no-padding text-right>{{getCreditAmount(credit)}}</ion-col>
            <ion-col col-1 no-padding><button (click)="onMoreActions(credit)" ion-button clear small><i class="fas fa-ellipsis-v"></i></button></ion-col>
            <!-- <ion-item *ngIf="credit.expandMode && credit.type === 'Refund'" style="font-style: italic">
                Refunded By : {{credit.refundedBy && credit.refundedBy.name}}<br>
                <span *ngIf="credit && credit.reason">Reason : {{credit.reason}}</span>
            </ion-item> -->
            </ion-row>
        </ng-container>
            <ion-list *ngIf="!refresher && teeFlightTabs === 'bookedTab' && innerWidth > 768"
                style="margin-top:0px;margin-bottom:10rem;">
                <!-- (ionItemReorder)="onReorder($event,teeFlightTabs)" -->
                <!-- (ionItemReorder)="$event.applyTo(filteredBFL)" -->
                <span *ngIf="getFlightList() && getFlightList().length > 0">
                <!-- <span *ngIf="upcomingList && upcomingList.length > 0"> -->
                    <!-- upcomingList -->
                    <ion-row col-12 no-padding no-margin>
                        <ion-col col-6 no-padding no-margin *ngFor="let tf of getFlightList(); let listIdx = index">
                            <ion-item (click)="tf.showDetails = !tf.showDetails"
                                style="padding-left:0!important">
                                <!-- *ngFor="let x of [1,2,3,4]; let i = index;" -->
                                <ion-card class="mygolf-table">
                                    <!-- *ngIf="i % 2 === 0" -->
                                    <div>
                                        <ion-card-header class="mygolf-table-caption" no-padding>
                                            <ion-row no-padding>
                                                <ion-col width-50 class="mg-txt-left">

                                                    <i
                                                        class="far fa-fw fa-calendar"></i>{{getTeeOffDate(tf.slotAssigned.teeOffDate)}}
                                                    <i class="far fa-fw fa-clock"></i>
                                                    {{getTeeOffTime(tf.slotAssigned.teeOffTime)}}
                                                    <i *ngIf="tf.ninesPlayed" class="fas fa-fw fa-golf-ball"></i>{{tf.ninesPlayed?tf.ninesPlayed*9:''}}

                                                    <!-- <span class="booker-name" *ngIf="tf.bookedByPlayer && tf.bookedByPlayer.playerName">({{tf.bookedByPlayer.firstName?tf.bookedByPlayer.firstName:tf.bookedByPlayer.playerName}})</span> -->

                                                    <!-- <ion-icon name="md-alarm"></ion-icon> -->
                                                </ion-col>
                                                <!-- <ion-col width-35 >
                                                                    
                                                                </ion-col > -->
                                                <ion-col width-50 class="mg-txt-right">
                                                    Ref. <i class="fa fa-fw fa-hashtag"></i>{{tf.bookingReference}}
                                                    <!-- <span  class="booker-name" *ngIf="i % 2 === 0">(John)</span>
                                                    <span class="booker-name" *ngIf="i % 2 === 1">(Alexander)</span> -->
                                                </ion-col>
                                            </ion-row>
                                        </ion-card-header>
                                        <ion-card-content>
                                            <!-- <ion-grid> -->
                                            <!-- <ion-row style="place-content: center;">
                    
                                                <h2>T-Off Second Nine ( 10-18 )</h2>
                                            </ion-row> -->
                                            <ion-row no-padding style="place-items: center;">
                                                <!-- margin:-0.7em -->
                                                <ion-col col-5 class="mg-txt-left">
                                                    <button ion-button small clear
                                                        class="p-flight-status">{{getStartCourse(tf)}}
                                                    </button>
                                                        <!-- <br>
                                                        <button ion-button small clear 
                                                        class="p-flight-status" text-wrap>
                                                            Amount : {{getBookingDetails(tf, 'finalAmount')}}
                                                        </button> -->
                                                </ion-col>
                                                <!-- <ion-col width-35 >
                                                                                
                                                                            </ion-col > -->
                                                <ion-col style="text-align: right;">

                                                    <!-- <button ion-button small clear>Waiting Players</button> -->
                                                    <p class="p-flight-status">{{getFlightStatus(tf)}}</p>
                                                    <span class="booker-name"
                                                        *ngIf="tf.bookedByPlayer && tf.bookedByPlayer.playerName">({{tf.bookedByPlayer.firstName?tf.bookedByPlayer.firstName:tf.bookedByPlayer.playerName}})</span>
                                                        <span class="booker-name"
                                                        *ngIf="!tf.bookedByPlayer && tf.bookedByUser && tf.bookedByUser.name">
                                                        ({{tf.bookedByUser.name?tf.bookedByUser.name:""}})</span>
                                                </ion-col>
                                                <!-- <ion-col col-7 class="mg-txt-right">
                                                    <button ion-button small item-right outline (click)="goFlightUpdate()">ACTION</button>
                                                    <button ion-button small item-right outline (click)="goFlightDetail(tf)">DETAILS</button>
                                                </ion-col> -->
                                            </ion-row>
                                            <ion-row *ngIf="expandDetails || tf.showDetails">
                                                <ion-col>
                                                    <ion-row no-padding justify-content-start
                                                        style="padding-left:1.5rem">
                                                        <ion-col *ngFor="let p of tf.bookingPlayers; let idx = index">
                                                            <!-- style="text-align: -webkit-center;" -->
                                                            <ion-row no-padding>
                                                                <ion-col no-padding col-12
                                                                    style="align-self: flex-start;">

                                                                    <span (click)="showDetailsPlayer(p)" *ngIf="p">
                                                                        <!-- *ngIf="checkPlayerSlot(tf,1)" -->
                                                                        <ion-avatar>
                                                                            <img class="player-img-flight"
                                                                                [src]="getPlayerSlotNew(p,'image')"
                                                                                onerror="this.src='img/default-user.jpg'">
                                                                        </ion-avatar>
                                                                        <span
                                                                            class="player-name">{{getPlayerSlotNew(p,'name')}}</span>

                                                                    </span>
                                                                </ion-col>
                                                                <!-- </ion-row>
                                                        <ion-row no-padding> -->
                                                                <ion-col no-padding col-12
                                                                    style="align-self: flex-end;">
                                                                    <span (click)="showDetailsCaddie(p)"
                                                                        *ngIf="checkPlayerCaddyNew(p,tf,idx)">
                                                                        <ion-avatar class="no-margin">
                                                                            <img class="caddie-img-flight"
                                                                                [src]="getCaddySlot(p,'image')"
                                                                                onerror="this.src='assets/img/caddie-image.svg'">
                                                                        </ion-avatar>
                                                                    </span><br>
                                                                    <span class="caddie-name"
                                                                        *ngIf="nameView">{{getCaddySlot(p,'name')}}</span>
                                                                </ion-col>
                                                            </ion-row>
                                                            <div *ngIf="0">
                                                                <span (click)="showDetailsPlayer(p)" *ngIf="p">
                                                                    <!-- *ngIf="checkPlayerSlot(tf,1)" -->
                                                                    <ion-avatar class="no-margin">
                                                                        <!-- [src]="getPlayerSlot(tf,1,'image',tf.id)" -->
                                                                        <img class="player-img-flight"
                                                                            [src]="getPlayerSlotNew(p,'image')"
                                                                            onerror="this.src='img/default-user.jpg'">
                                                                    </ion-avatar>
                                                                    <!-- class="hide-xs hide-sm" -->
                                                                    <!-- <span >{{getPlayerSlot(tf,1,'name',tf.id)}}</span> -->

                                                                </span><br>
                                                                <span
                                                                    class="player-name">{{getPlayerSlotNew(p,'name')}}</span><br>
                                                                <span (click)="showDetailsCaddie(p)"
                                                                    *ngIf="checkPlayerCaddyNew(p,tf,idx)">
                                                                    <!-- checkPlayerCaddy(p,tf,idx,'upcoming',listIdx) -->
                                                                    <!-- p.caddyAssigned || p.caddyPreferred -->
                                                                    <ion-avatar class="no-margin">
                                                                        <img class="caddie-img-flight"
                                                                            [src]="getCaddySlot(p,'image')"
                                                                            onerror="this.src='assets/img/caddie-image.svg'">
                                                                        <!-- src='assets/img/caddie-image.svg' -->

                                                                    </ion-avatar>
                                                                </span><br>
                                                                <span class="caddie-name"
                                                                    *ngIf="nameView">{{getCaddySlot(p,'name')}}</span>
                                                            </div>
                                                        </ion-col>
                                                    </ion-row>
                                                </ion-col>

                                            </ion-row>

                                            <ion-row no-padding>
                                                <ion-col class="booker-name" width-50 class="mg-txt-left">
                                                    <button ion-button small clear class="p-flight-status" text-wrap>
                                                        Amount : {{getBookingDetails(tf, 'finalAmount')}}
                                                    </button>
                                                    <br *ngIf="getBookingDetails(tf, 'paidAmount')">
                                                    <button ion-button small clear class="p-flight-status" text-wrap>
                                                        {{getBookingDetails(tf, 'paidAmount')?' (Paid : '+getBookingDetails(tf, 'paidAmount')+')':''}}
                                                    </button>
                                                </ion-col>
                                                <ion-col class="booker-name" width-50 class="mg-txt-right">
                                                    <button ion-button small clear class="p-flight-status" text-wrap>
                                                        Refund : {{getBookingDetails(tf, 'refund')}}
                                                    </button>
                                                    <br *ngIf="getBookingDetails(tf, 'discount')">
                                                    <button ion-button small clear class="p-flight-status" text-wrap>
                                                        Deduction : {{getBookingDetails(tf, 'discount')}}
                                                    </button>

                                                </ion-col>
                                            </ion-row>
                                            <ion-row style="display: flex; justify-content: space-between; flex-wrap: nowrap;; max-width: 90%">
                                                <ion-col style="text-align:center; max-width: 9rem">
                                                    <!-- padding-left: 1.5rem; -->
                                                    <img item-right
                                                        style="width: 3.8rem;float:right;object-fit: cover;margin:0.5rem"
                                                        src="assets/img/icon-players-side.png">
                                                        
                                                          
                                                    <ion-badge item-left class="scoring-badge" style="padding:0;margin-top:0">
                                                        <h2 class="score">{{getCount(tf,'player')}}</h2>
                                                    </ion-badge>
                                                </ion-col>
                                                <!-- style="text-align: right;" -->
                                                <ion-col style="text-align:center; max-width: 8rem">
                                                    <!-- padding-left: 2rem; -->
                                                    <img item-right
                                                        style="width: 3.3rem;float:right;object-fit: cover;margin:0.5rem"
                                                        src="assets/img/icon-caddie_.svg">

                                                    <ion-badge item-left class="scoring-badge"
                                                        style="padding:0;margin-top:0">
                                                        <h2 class="score">{{getCount(tf.bookingPlayers,'caddy')}}</h2>
                                                    </ion-badge>
                                                    <ion-badge *ngIf="0" class="scoring-badge"
                                                        style="padding:0;margin-top:0">
                                                        <div>
                                                            <!-- <h2 class="score">{{tf.buggyRequested}}</h2> -->
                                                            <h2 class="score">{{getCount(tf.bookingPlayers,'buggy')}}
                                                                <img style="width: 2.5rem;float:left;object-fit: cover;margin:0.5rem"
                                                                    src="assets/img/icon-caddie_.svg"></h2>
                                                        </div>
                                                        <!-- <p class="score-type">Buggies</p> -->
                                                    </ion-badge>
                                                    <!-- </ion-col>
                                                <ion-col  style="text-align: center;">  -->

                                                </ion-col>
                                                <ion-col style="text-align:center; max-width: 9rem">
                                                    <!-- padding-left: 1.5rem; -->
                                                    <img item-right
                                                        style="width: 3.8rem;float:right;object-fit: cover;margin:0.5rem"
                                                        src="assets/img/icon-buggy-new.svg">
                                                    <ion-badge item-left class="scoring-badge"
                                                        style="padding:0;margin-top:0">
                                                        <h2 class="score">{{getCount(tf.bookingPlayers,'buggy')}}</h2>
                                                    </ion-badge>
                                                </ion-col>
                                                <ion-col col-2 class="mg-txt-right">
                                                    <!-- <button *ngIf="checkActionAccess(tf)" ion-button small item-right outline (click)="goFlightUpdate(tf)">ACTION</button> -->
                                                    <button ion-button small item-right outline
                                                        (click)="goFlightDetail(tf)"><i class="fas fa-fw fa-eye"></i>
                                                        <!-- SEATINGS -->
                                                    </button>
                                                    <button ion-button small item-right outline
                                                        (click)="goBookingDetails(tf)"><i class="fas fa-fw fa-cog"></i>
                                                        <!-- DETAILS -->
                                                    </button>
                                                    <!-- <span><ion-reorder></ion-reorder></span>     -->
                                                </ion-col>
                                            </ion-row>
                                            <!-- <ion-row no-padding style="place-items: center">
                                                <ion-col col-5 class="mg-txt-left">
                                                    <button ion-button small clear>Waiting players</button></ion-col>
                                                <ion-col col-7 class="mg-txt-right">
                                                    <button ion-button small item-right outline (click)="goFlightUpdate()">ACTION</button>
                                                    <button ion-button small item-right outline (click)="goFlightDetail(2)">DETAILS</button>
                                                </ion-col>
                                            </ion-row> -->

                                            <!-- </ion-grid> -->
                                        </ion-card-content>
                                    </div>

                                </ion-card>
                            </ion-item>
                        </ion-col>
                    </ion-row>

                </span>
                <ion-infinite-scroll (ionInfinite) = "doInfinite($event)"
                threshold = "40%">
                <ion-infinite-scroll-content
                        loadingSpinner = "bubbles"
                        loadingText = "">
                    </ion-infinite-scroll-content>
                </ion-infinite-scroll>
            </ion-list>
        </ion-col>



    </ion-row>
</ion-content>
<ion-footer *ngIf="0" style="background-color: #DDF6D6 !important;">
    <ion-row style="text-align: center;">
        <ion-col col-2>
            <img style="height: 5rem; padding:1rem;" class="footer-icons" src="assets/img/footer-icon-calendar.png" />
        </ion-col>
        <ion-col col-2 (click)="onNotificationsClick()">
            <img style="height: 5rem; padding:1rem;" class="footer-icons"
                src="assets/img/footer-icon-notification.png" />
        </ion-col>
        <ion-col col-4 (click)="onHomeClick()">
            <img style="height: 5rem;" src="assets/img/footer-icon-mg2u.png" />
        </ion-col>
        <ion-col col-2>
            <img style="height: 5rem; padding:1rem;" class="footer-icons" src="assets/img/icon-question-only.png" />
        </ion-col>
        <ion-col col-2>
            <img style="height: 5rem; padding:1rem;" class="footer-icons" src="assets/img/footer-icon-player.png" />
        </ion-col>
    </ion-row>

</ion-footer>